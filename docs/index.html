<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="Daishi Kato&#39;s blog" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.axlight.com/" />

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Daishi Kato&#39;s blog"/>
<meta name="twitter:description" content=""/>

    <meta name="generator" content="Hugo 0.114.0">
    
      <title>Daishi Kato&#39;s blog</title>
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://blog.axlight.com/css/style.css">
    
    <link rel="stylesheet" href="/css/custom.css">
    
    
    <link href="https://blog.axlight.com/index.xml" rel="alternate" type="application/rss+xml" title="Daishi Kato&#39;s blog" />
    
    

    
    
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://blog.axlight.com/">Daishi Kato&#39;s blog</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
          
            <li><a href="https://blog.axlight.com/posts/">All Posts</a></li>
          
				
          
            <li><a href="https://contact.axlight.com">Contact</a></li>
          
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="https://blog.axlight.com/">Daishi Kato&#39;s blog</a></h1>
		
		
		
		
		
			<img id="profile-pic" src="https://blog.axlight.com//img/profile.png" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			
				<a href="https://github.com/dai-shi"><i class="fa fa-github fa-2x"></i></a>
			
				<a href="https://twitter.com/dai_shi"><i class="fa fa-twitter fa-2x"></i></a>
			

			
		</div>
		<div id="links" class="text-center">
			
			
        
          <a href="https://blog.axlight.com/posts/">All Posts</a>
        
			
        
          <a href="https://contact.axlight.com">Contact</a>
        
			
		</div>
    <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CEAI427J&placement=blogaxlightcom" id="_carbonads_js"></script>
	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">


<header>
	
	
		<h1>Latest Posts</h1>
	
</header>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/why-zustand-typescript-implementation-is-so-ugly/">Why Zustand Typescript Implementation Is So Ugly</a>
			<br>
			<small>
				19 July 2023
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction Note: This post focuses on Zustand library&rsquo;s implementation in TypeScript. It does not affect the user code, which should be kept clean.
Zustand&rsquo;s JavaScript implementation is very small, as seen in the following tweet.
Here&#39;s the Zustand code in JS in a tweet.
I think I did this before, but this is slightly a new version.
Not in 140 chars, but in an image. ðŸ˜…
Source: https://t.co/SEBiC7bObe pic.twitter.com/kLcHnMN5je
&mdash; Daishi Kato (@dai_shi) October 20, 2022 However, its TypeScript implementation is quite complicated.
		
			... <a href="https://blog.axlight.com/posts/why-zustand-typescript-implementation-is-so-ugly/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/typescript"><span class="label label-success">typescript</span></a>
			
				<a href="https://blog.axlight.com/tags/zustand"><span class="label label-success">zustand</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/why-you-dont-need-signals-in-react/">Why You Don&#39;t Need Signals in React</a>
			<br>
			<small>
				23 April 2023
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction In the world of web frontend development, signals have become a popular topic. At their core, signals are used to represent changes in state over time. Some developers have discussed the potential of using signals in conjunction with React.
Signals are actually an older concept, and it&rsquo;s uncertain how they are understood by modern web developers. Initially, I was confused about the characteristics of signals, but I later realized that they can be boiled down to two main aspects:
		
			... <a href="https://blog.axlight.com/posts/why-you-dont-need-signals-in-react/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/atom"><span class="label label-success">atom</span></a>
			
				<a href="https://blog.axlight.com/tags/jotai"><span class="label label-success">jotai</span></a>
			
				<a href="https://blog.axlight.com/tags/signals"><span class="label label-success">signals</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/demystifying-create-react-signals-internals/">Demystifying Create React Signals Internals</a>
			<br>
			<small>
				26 February 2023
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction When I first saw SolidJS and Preact Signals, I thought they are interesting but they are different from React. What made me motivated is @preact/signals-react. I didn&rsquo;t like the original implementation using REACT INTERNALS, and that drove me to create something.
We already had Jotai. Jotai atoms are like signals, representing reactive sources, and allowing to form a dependency graph or a data flow. The missing piece was signal-like syntax without hooks.
		
			... <a href="https://blog.axlight.com/posts/demystifying-create-react-signals-internals/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/signals"><span class="label label-success">signals</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/you-might-not-need-react-query-for-jotai/">You Might Not Need React Query for Jotai</a>
			<br>
			<small>
				31 January 2023
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction When Jotai development was started (before releasing v1), it has a simple goal. It optimizes re-renders, which was often a problem with useState and useContext using a big state object. We also wanted to avoid using selector function, which is popularized by Redux and widely used.
In the early days, I wanted to have data fetching solution, but didn&rsquo;t want to complicate Jotai itself. So, jotai/query package was created. It&rsquo;s an integration with React Query v3.
		
			... <a href="https://blog.axlight.com/posts/you-might-not-need-react-query-for-jotai/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/atom"><span class="label label-success">atom</span></a>
			
				<a href="https://blog.axlight.com/tags/jotai"><span class="label label-success">jotai</span></a>
			
				<a href="https://blog.axlight.com/tags/fetch"><span class="label label-success">fetch</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/why-we-need-jotai-v2-api/">Why We Need Jotai v2 API</a>
			<br>
			<small>
				6 December 2022
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction Jotai is a library for React state management.
The API (let&rsquo;s call it v1 API) is designed to a) be friendly with Concurrent React, and b) be compatible with Recoil as much as possible.
What does it mean? First, atom read function is evaluated in the render phase in React.
For example, consider a simple derived atom.
const countAtom = atom(0); const doubleAtom = atom((get) =&gt; get(countAtom) * 2); In the example, (get) =&gt; get(countAtom) * 2 is the read function.
		
			... <a href="https://blog.axlight.com/posts/why-we-need-jotai-v2-api/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/atom"><span class="label label-success">atom</span></a>
			
				<a href="https://blog.axlight.com/tags/jotai"><span class="label label-success">jotai</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/how-jotai-specifies-package-entry-points/">How Jotai Specifies Package Entry Points</a>
			<br>
			<small>
				17 April 2022
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction If someone has already looked into package.json in the jotai library, they may find &quot;exports&quot; field.
https://github.com/pmndrs/jotai/blob/v1.6.4/package.json#L18-L31
&#34;exports&#34;: { &#34;./package.json&#34;: &#34;./package.json&#34;, &#34;.&#34;: { &#34;types&#34;: &#34;./index.d.ts&#34;, &#34;module&#34;: &#34;./esm/index.js&#34;, &#34;import&#34;: &#34;./esm/index.mjs&#34;, &#34;default&#34;: &#34;./index.js&#34; }, &#34;./utils&#34;: { &#34;types&#34;: &#34;./utils.d.ts&#34;, &#34;module&#34;: &#34;./esm/utils.js&#34;, &#34;import&#34;: &#34;./esm/utils.mjs&#34;, &#34;default&#34;: &#34;./utils.js&#34; }, In the Node.js docs, it is described as Package entry points. Node.js v12.7.0 started implementing it. Nowadays, it&rsquo;s used also by bundlers like webpack and vite.
		
			... <a href="https://blog.axlight.com/posts/how-jotai-specifies-package-entry-points/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/node"><span class="label label-success">node</span></a>
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/jotai"><span class="label label-success">jotai</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/when-i-use-valtio-and-when-i-use-jotai/">When I Use Valtio and When I Use Jotai</a>
			<br>
			<small>
				30 January 2022
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction Recently, I often got asked about this question: Which is recommended, valtio or jotai?
For those who are not familiar with them, they are two out of many state management libraries that I developed.
https://github.com/pmndrs/valtio
https://github.com/pmndrs/jotai
Now, from the library perspective, their implementations are very different. However, from the usage perspective, I understand the confusion. Both serve similar functionalities and we don&rsquo;t usually use both in a single app.
		
			... <a href="https://blog.axlight.com/posts/when-i-use-valtio-and-when-i-use-jotai/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/proxy"><span class="label label-success">proxy</span></a>
			
				<a href="https://blog.axlight.com/tags/valtio"><span class="label label-success">valtio</span></a>
			
				<a href="https://blog.axlight.com/tags/jotai"><span class="label label-success">jotai</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/how-valtio-proxy-state-works-react-part/">How Valtio Proxy State Works (React Part)</a>
			<br>
			<small>
				26 December 2021
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction In the previous article, we explained how Valtio proxy state works. It tracks mutations of state and create immutable snapshot.
Let&rsquo;s recap the API in vanilla part of Valtio.
// Create a new proxy state to detect mutations const state = proxy({ count: 0 }); // You can mutate it ++state.count; // Create a snapshot const snap1 = snapshot(state); // ---&gt; { count: 1 } // Mutate it again state.
		
			... <a href="https://blog.axlight.com/posts/how-valtio-proxy-state-works-react-part/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/proxy"><span class="label label-success">proxy</span></a>
			
				<a href="https://blog.axlight.com/tags/valtio"><span class="label label-success">valtio</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/learning-react-state-manager-jotai-with-7guis-tasks/">Learning React State Manager Jotai With 7GUIS Tasks</a>
			<br>
			<small>
				13 September 2021
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction I stumbled upon 7GUIS tasks while reading XState Tutorials. This motivated me to challenge those 7 tasks with jotai.
It turned out that this would be a good resource to learn jotai. They are from basic tasks to advanced tasked, and you will see how they are implemented, occasionally magically.
It&rsquo;s recommended to try it yourself first. If you succeed to implement it, then you can compare. Even if you fail, you can read and learn.
		
			... <a href="https://blog.axlight.com/posts/learning-react-state-manager-jotai-with-7guis-tasks/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/atom"><span class="label label-success">atom</span></a>
			
				<a href="https://blog.axlight.com/tags/typescript"><span class="label label-success">typescript</span></a>
			
				<a href="https://blog.axlight.com/tags/jotai"><span class="label label-success">jotai</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/how-valtio-proxy-state-works-vanilla-part/">How Valtio Proxy State Works (Vanilla Part)</a>
			<br>
			<small>
				27 August 2021
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction Valtio is a library for global state primarily for React. It&rsquo;s originally modeled to match with useMutableSource API. However, it turns out it&rsquo;s a novel API to add immutability to mutable state.
What is immutable state? JavaScript doesn&rsquo;t support immutability as language, so it&rsquo;s just a coding contract.
const immutableState1 = { count: 0, text: &#39;hello&#39; }; // update the state const immutableState2 = { ...immutableState1, count: immutableState1.count + 1 }; // update it again const immutableState3 = { .
		
			... <a href="https://blog.axlight.com/posts/how-valtio-proxy-state-works-vanilla-part/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/proxy"><span class="label label-success">proxy</span></a>
			
				<a href="https://blog.axlight.com/tags/valtio"><span class="label label-success">valtio</span></a>
			
		</small>
		
	</div>
</div>



<div class="text-center center-block">
	
    <ul class="pagination pagination-default">
      <li class="page-item disabled">
        <a aria-disabled="true" aria-label="First" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item disabled">
        <a aria-disabled="true" aria-label="Previous" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/page/5/" aria-label="Page 5" class="page-link" role="button">5</a>
      </li>
      <li class="page-item">
        <a href="/page/2/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/page/6/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
</div>

						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  
  <script src="https://blog.axlight.com//js/App.js"></script>
  
</body>
</html>
