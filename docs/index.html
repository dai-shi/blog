<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="Daishi Kato&#39;s blog" />
<meta property="og:description" content="" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.axlight.com/" />


    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Daishi Kato&#39;s blog"/>
<meta name="twitter:description" content=""/>

    <meta name="generator" content="Hugo 0.88.1" />
    
      <title>Daishi Kato&#39;s blog</title>
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://blog.axlight.com/css/style.css">
    
    <link rel="stylesheet" href="/css/custom.css">
    
    
    <link href="https://blog.axlight.com/index.xml" rel="alternate" type="application/rss+xml" title="Daishi Kato&#39;s blog" />
    
    

    
    
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://blog.axlight.com/">Daishi Kato&#39;s blog</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
          
            <li><a href="https://blog.axlight.com/posts/">All Posts</a></li>
          
				
          
            <li><a href="https://contact.axlight.com">Contact</a></li>
          
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="https://blog.axlight.com/">Daishi Kato&#39;s blog</a></h1>
		
		
		
		
		
			<img id="profile-pic" src="https://blog.axlight.com//img/profile.png" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			
				<a href="https://github.com/dai-shi"><i class="fa fa-github fa-2x"></i></a>
			
				<a href="https://twitter.com/dai_shi"><i class="fa fa-twitter fa-2x"></i></a>
			

			
		</div>
		<div id="links" class="text-center">
			
			
        
          <a href="https://blog.axlight.com/posts/">All Posts</a>
        
			
        
          <a href="https://contact.axlight.com">Contact</a>
        
			
		</div>
	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">


<header>
	
	
		<h1>Latest Posts</h1>
	
</header>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/how-valtio-proxy-state-works-react-part/">How Valtio Proxy State Works (React Part)</a>
			<br>
			<small>
				26 December 2021
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction In the previous article, we explained how Valtio proxy state works. It tracks mutations of state and create immutable snapshot.
Let&rsquo;s recap the API in vanilla part of Valtio.
// Create a new proxy state to detect mutations const state = proxy({ count: 0 }); // You can mutate it ++state.count; // Create a snapshot const snap1 = snapshot(state); // ---&gt; { count: 1 }  // Mutate it again state.
		
			... <a href="https://blog.axlight.com/posts/how-valtio-proxy-state-works-react-part/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/proxy"><span class="label label-success">proxy</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/learning-react-state-manager-jotai-with-7guis-tasks/">Learning React State Manager Jotai With 7GUIS Tasks</a>
			<br>
			<small>
				13 September 2021
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction I stumbled upon 7GUIS tasks while reading XState Tutorials. This motivated me to challenge those 7 tasks with jotai.
It turned out that this would be a good resource to learn jotai. They are from basic tasks to advanced tasked, and you will see how they are implemented, occasionally magically.
It&rsquo;s recommended to try it yourself first. If you succeed to implement it, then you can compare. Even if you fail, you can read and learn.
		
			... <a href="https://blog.axlight.com/posts/learning-react-state-manager-jotai-with-7guis-tasks/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/atom"><span class="label label-success">atom</span></a>
			
				<a href="https://blog.axlight.com/tags/typescript"><span class="label label-success">typescript</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/how-valtio-proxy-state-works-vanilla-part/">How Valtio Proxy State Works (Vanilla Part)</a>
			<br>
			<small>
				27 August 2021
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction Valtio is a library for global state primarily for React. It&rsquo;s originally modeled to match with useMutableSource API. However, it turns out it&rsquo;s a novel API to add immutability to mutable state.
What is immutable state? JavaScript doesn&rsquo;t support immutability as language, so it&rsquo;s just a coding contract.
const immutableState1 = { count: 0, text: &#39;hello&#39; }; // update the state const immutableState2 = { ...immutableState1, count: immutableState1.count + 1 }; // update it again const immutableState3 = { .
		
			... <a href="https://blog.axlight.com/posts/how-valtio-proxy-state-works-vanilla-part/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/proxy"><span class="label label-success">proxy</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/testing-global-state-libraries-with-react-18-alpha-concurrent-rendering/">Testing Global State Libraries With React 18 Alpha Concurrent Rendering</a>
			<br>
			<small>
				10 June 2021
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction The React team announced The Plan for React 18 with various features. Among them, concurrent rendering is one of my interests because I have been developing various global state libraries and there are known issues called &ldquo;tearing&rdquo; and &ldquo;branching&rdquo;.
Tearing is an undesirable behavior in which two components render with different values for same global state.
Branching is a desirable behavior in which a component renders with a stale value for a state in a transition update.
		
			... <a href="https://blog.axlight.com/posts/testing-global-state-libraries-with-react-18-alpha-concurrent-rendering/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/redux"><span class="label label-success">redux</span></a>
			
				<a href="https://blog.axlight.com/tags/context"><span class="label label-success">context</span></a>
			
				<a href="https://blog.axlight.com/tags/concurrent"><span class="label label-success">concurrent</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/developing-a-memoization-library-with-proxies/">Developing a Memoization Library With Proxies</a>
			<br>
			<small>
				29 November 2020
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction It&rsquo;s been a while since I started developing reactive-react-redux and react-tracked. These libraries provide so called state usage tracking to optimize render in React. This approach, I think, is pretty novel and quite a lot of my effort has been put to improve its performance.
Lately, I thought it would be nicer if this can be used more broadly. I wondered if it can be used in vanilla JS. What would be an API in vanilla JS?
		
			... <a href="https://blog.axlight.com/posts/developing-a-memoization-library-with-proxies/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/proxy"><span class="label label-success">proxy</span></a>
			
				<a href="https://blog.axlight.com/tags/memoization"><span class="label label-success">memoization</span></a>
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/redux"><span class="label label-success">redux</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/developing-react-global-state-library-with-atom-abstraction/">Developing React Global State Library With Atom Abstraction</a>
			<br>
			<small>
				13 August 2020
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction I have been developing various global state libraries for React. For example:
 react-tracked react-hooks-global-state  My main motivation is to eliminate selector functions that are only required for render optimization. Render optimization here means it avoids extra re-renders. An extra re-render is a re-render process that produces the same view result as before.
Since Recoil is announced, I&rsquo;m very interested in atom abstraction because it eliminates selector functions for render optimization and the API seems pretty intuitive.
		
			... <a href="https://blog.axlight.com/posts/developing-react-global-state-library-with-atom-abstraction/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/atom"><span class="label label-success">atom</span></a>
			
				<a href="https://blog.axlight.com/tags/recoil"><span class="label label-success">recoil</span></a>
			
				<a href="https://blog.axlight.com/tags/concurrent"><span class="label label-success">concurrent</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/redux-in-worker-off-main-thread-redux-reducers-and-middleware/">Redux in Worker: Off-main-thread Redux Reducers and Middleware</a>
			<br>
			<small>
				29 March 2020
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction Redux is a framework-agnostic library for global state. It&rsquo;s often used with React.
While I like the abstraction of Redux, React will introduce Concurrent Mode in the near future. If we want to get benefit of useTransition, state must be inside React to allow state branching. That means we can&rsquo;t get the benefit with Redux.
I&rsquo;ve been developing React Tracked for global state that allows state branching. It works well in Concurrent Mode.
		
			... <a href="https://blog.axlight.com/posts/redux-in-worker-off-main-thread-redux-reducers-and-middleware/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/redux"><span class="label label-success">redux</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/worker"><span class="label label-success">worker</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/steps-to-develop-global-state-for-react/">Steps to Develop Global State for React With Hooks Without Context</a>
			<br>
			<small>
				18 February 2020
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction Developing with React hooks is fun for me. I have been developing several libraries. The very first library was a library for global state. It&rsquo;s naively called &ldquo;react-hooks-global-state&rdquo; which turns out to be too long to read.
The initial version of the library was published in Oct 2018. Time has passed since then, I learned a lot, and now v1.0.0 of the library is published.
https://github.com/dai-shi/react-hooks-global-state
This post shows simplified versions of the code step by step.
		
			... <a href="https://blog.axlight.com/posts/steps-to-develop-global-state-for-react/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/typescript"><span class="label label-success">typescript</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/redux"><span class="label label-success">redux</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/lazy-load-apollo-link-in-apollo-client/">Lazy Load Apollo Link in Apollo Client</a>
			<br>
			<small>
				10 January 2020
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction This is a short post about my small library.
Apollo Client is a library for GraphQL. Apollo Link is an interface to extend Apollo Client.
Typically, you would initialize apollo client like this.
import { ApolloClient } from &#39;apollo-client&#39;; import { InMemoryCache } from &#39;apollo-cache-inmemory&#39;; import { HttpLink } from &#39;apollo-link-http&#39;; const cache = new InMemoryCache(); const link = new HttpLink({ uri }); const client = new ApolloClient({ cache: cache, link: link, }); I want to define the link in another file and lazy load it, because it is not an HttpLink but a complicated large link.
		
			... <a href="https://blog.axlight.com/posts/lazy-load-apollo-link-in-apollo-client/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/apollo"><span class="label label-success">apollo</span></a>
			
				<a href="https://blog.axlight.com/tags/graphql"><span class="label label-success">graphql</span></a>
			
				<a href="https://blog.axlight.com/tags/apollo-link"><span class="label label-success">apollo-link</span></a>
			
				<a href="https://blog.axlight.com/tags/lazy-loading"><span class="label label-success">lazy-loading</span></a>
			
		</small>
		
	</div>
</div>


	<div class="panel panel-default">
	<div class="panel-header">
		<h3>
			<a href="https://blog.axlight.com/posts/how-to-handle-async-actions-for-global-state-with-react-hooks-and-context/">How to Handle Async Actions for Global State With React Hooks and Context</a>
			<br>
			<small>
				20 December 2019
			</small>
		</h3>
	</div>
	<div class="panel-body">
		Introduction I have been developing React Tracked, which is a library for global state with React Hooks and Context.
https://react-tracked.js.org
This is a small library and focuses on only one thing. It optimizes re-renders using state usage tracking. More technically, it uses Proxies to detect the usage in render, and only triggers re-renders if necessary.
Because of that, the usage of React Tracked is very straightforward. It is just like the normal useContext.
		
			... <a href="https://blog.axlight.com/posts/how-to-handle-async-actions-for-global-state-with-react-hooks-and-context/">Read More</a>
		
	</div>
	<div class="panel-footer">
		
		<small class="text-muted">
			
			
				<a href="https://blog.axlight.com/tags/react"><span class="label label-success">react</span></a>
			
				<a href="https://blog.axlight.com/tags/context"><span class="label label-success">context</span></a>
			
				<a href="https://blog.axlight.com/tags/hooks"><span class="label label-success">hooks</span></a>
			
				<a href="https://blog.axlight.com/tags/global-state"><span class="label label-success">global-state</span></a>
			
				<a href="https://blog.axlight.com/tags/async"><span class="label label-success">async</span></a>
			
		</small>
		
	</div>
</div>



<div class="text-center center-block">
	
    <ul class="pagination pagination-default">
      <li class="page-item disabled">
        <a href="#" aria-disabled="true" aria-label="First" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item disabled">
        <a href="#" aria-disabled="true" aria-label="Previous" class="page-link" role="button" tabindex="-1"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item active">
        <a href="#" aria-current="page" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item">
        <a href="/page/2/" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/page/5/" aria-label="Page 5" class="page-link" role="button">5</a>
      </li>
      <li class="page-item">
        <a href="/page/2/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/page/5/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
</div>

						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  
  <script src="https://blog.axlight.com//js/App.js"></script>
  
</body>
</html>
