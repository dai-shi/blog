<!DOCTYPE html>
<html lang="en">
<head prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# website: http://ogp.me/ns/website#">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="description" content="">
    <meta property="og:title" content="When I Use Valtio and When I Use Jotai" />
<meta property="og:description" content="Introduction Recently, I often got asked about this question: Which is recommended, valtio or jotai?
For those who are not familiar with them, they are two out of many state management libraries that I developed.
https://github.com/pmndrs/valtio
https://github.com/pmndrs/jotai
Now, from the library perspective, their implementations are very different. However, from the usage perspective, I understand the confusion. Both serve similar functionalities and we don&rsquo;t usually use both in a single app." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://blog.axlight.com/posts/when-i-use-valtio-and-when-i-use-jotai/" /><meta property="og:image" content="https://blog.axlight.com/posts/when-i-use-valtio-and-when-i-use-jotai/cover.jpg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-01-30T18:00:00+09:00" />
<meta property="article:modified_time" content="2022-01-30T18:00:00+09:00" />


    <meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://blog.axlight.com/posts/when-i-use-valtio-and-when-i-use-jotai/cover.jpg" /><meta name="twitter:title" content="When I Use Valtio and When I Use Jotai"/>
<meta name="twitter:description" content="Introduction Recently, I often got asked about this question: Which is recommended, valtio or jotai?
For those who are not familiar with them, they are two out of many state management libraries that I developed.
https://github.com/pmndrs/valtio
https://github.com/pmndrs/jotai
Now, from the library perspective, their implementations are very different. However, from the usage perspective, I understand the confusion. Both serve similar functionalities and we don&rsquo;t usually use both in a single app."/>

    <meta name="generator" content="Hugo 0.121.2">
    
      <title>When I Use Valtio and When I Use Jotai &middot; Daishi Kato&#39;s blog</title>
    
    
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    
    <link rel="stylesheet" href="https://blog.axlight.com/css/style.css">
    
    <link rel="stylesheet" href="/css/custom.css">
    
    
    <link href="https://blog.axlight.com/index.xml" rel="alternate" type="application/rss+xml" title="Daishi Kato&#39;s blog" />
    
    

    
    
</head>
<body>

<nav class="navbar navbar-default navbar-fixed-top visible-xs">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			
				<a class="navbar-brand" href="https://blog.axlight.com/">Daishi Kato&#39;s blog</a>
			
		</div>
		<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
			<ul class="nav navbar-nav">
				
				
          
            <li><a href="https://blog.axlight.com/posts/">All Posts</a></li>
          
				
          
            <li><a href="https://contact.axlight.com">Contact</a></li>
          
				
			</ul>
		</div>
	</div>
</nav>
<div class="container-fluid">
	<div class="row">
		<div id="menu" class="hidden-xs col-sm-4 col-md-3">
	<div id="menu-content" class="vertical-align">
		
			<h1 class="text-center"><a href="https://blog.axlight.com/">Daishi Kato&#39;s blog</a></h1>
		
		
		
		
		
			<img id="profile-pic" src="https://blog.axlight.com//img/profile.png" alt="My Picture" class="img-circle center-block">
		
		<div id="social" class="text-center">
			
				<a href="https://github.com/dai-shi"><i class="fa fa-github fa-2x"></i></a>
			
				<a href="https://twitter.com/dai_shi"><i class="fa fa-twitter fa-2x"></i></a>
			

			
		</div>
		<div id="links" class="text-center">
			
			
        
          <a href="https://blog.axlight.com/posts/">All Posts</a>
        
			
        
          <a href="https://contact.axlight.com">Contact</a>
        
			
		</div>
    <script async type="text/javascript" src="//cdn.carbonads.com/carbon.js?serve=CEAI427J&placement=blogaxlightcom" id="_carbonads_js"></script>
	</div>
</div>

		<div id="content" class="col-xs-12 col-sm-8 col-md-9">
			<div class="row">
				<div id="post" class="col-sm-offset-1 col-sm-10 col-md-10 col-lg-8">


<main>
	<header>
    <h4>
      <small>
        30 January 2022
      </small>
    </h4>
    
      
        <img alt="cover" width="100%" src="https://blog.axlight.com/posts/when-i-use-valtio-and-when-i-use-jotai/cover.jpg" />
      
    
		<h1>
      When I Use Valtio and When I Use Jotai
    </h1>
    
      <h5>My two apps use them</h5>
    
	</header>

  <style>
#share-buttons {display: inline-block; vertical-align: middle;}
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > a {
position: relative;
text-align: left; 
height: 54px; 
width: 54px; 
float: left; 
text-align: center;
}
#share-buttons > a > i {color: #d5d5d5;}
#share-buttons > a:hover {cursor: pointer;}
#share-buttons > a.twitter:hover > i {color: #55ACEE;}
#share-buttons > a.facebook:hover > i {color: #3B5998;}
#share-buttons > a.reddit:hover > i {color: #FF4301;}
#share-buttons > a.pocket:hover > i {color: #EE4056;}
#share-buttons > a.twitter > i {font-size: 32px; margin-top: 10px;}
#share-buttons > a.facebook > i {font-size: 28px; margin-top: 12px;}
#share-buttons > a.reddit > i {font-size: 28px; margin-top: 12px;}
#share-buttons > a.pocket > i {font-size: 28px; margin-top: 12px;}
</style>

<span style="color: silver;">Share on: </span>
<div id="share-buttons">
  <a class="twitter" title="Share this on Twitter" target="_blank" rel="noopener noreferrer" href="https://twitter.com/intent/tweet?url=https%3a%2f%2fblog.axlight.com%2fposts%2fwhen-i-use-valtio-and-when-i-use-jotai%2f&text=When%20I%20Use%20Valtio%20and%20When%20I%20Use%20Jotai by %40dai_shi">
    <i class="fa fa-twitter"></i>
  </a>
  <a class="facebook" title="Share this on Facebook" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fblog.axlight.com%2fposts%2fwhen-i-use-valtio-and-when-i-use-jotai%2f&t=When%20I%20Use%20Valtio%20and%20When%20I%20Use%20Jotai">
    <i class="fa fa-facebook"></i>
  </a>
  <a class="reddit" title="Share this on Reddit" target="_blank" rel="noopener noreferrer" href="https://www.reddit.com/submit?url=https%3a%2f%2fblog.axlight.com%2fposts%2fwhen-i-use-valtio-and-when-i-use-jotai%2f&title=When%20I%20Use%20Valtio%20and%20When%20I%20Use%20Jotai">
    <i class="fa fa-reddit"></i>
  </a>
  <a class="pocket" title="Save this on Pocket" target="_blank" rel="noopener noreferrer" href="https://getpocket.com/edit?url=https%3a%2f%2fblog.axlight.com%2fposts%2fwhen-i-use-valtio-and-when-i-use-jotai%2f&title=When%20I%20Use%20Valtio%20and%20When%20I%20Use%20Jotai">
    <i class="fa fa-get-pocket"></i>
  </a>
</div>


	<article>
		<h2 id="introduction">Introduction</h2>
<p>Recently, I often got asked about this question:
Which is recommended, valtio or jotai?</p>
<p>For those who are not familiar with them,
they are two out of many state management libraries that I developed.</p>
<p><a href="https://github.com/pmndrs/valtio">https://github.com/pmndrs/valtio</a></p>
<p><a href="https://github.com/pmndrs/jotai">https://github.com/pmndrs/jotai</a></p>
<p>Now, from the library perspective, their implementations are very different.
However, from the usage perspective, I understand the confusion.
Both serve similar functionalities and we don&rsquo;t usually use both
in a single app.</p>
<p>It might be valuable if I could explain which to use if
I were to develop some apps.</p>
<p>My answer is I would use valtio for data-centric apps and
jotai for component-centric apps.</p>
<p>Let&rsquo;s dive in.</p>
<h2 id="data-centric-and-component-centric-approaches">Data-centric and component-centric approaches</h2>
<p>In the past, I had this tweet, mentioning
&ldquo;React Centric&rdquo; and &ldquo;Data Centric&rdquo;.
React component centric approach is an internal store,
where as data centric approach is an external store.</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">This is a diagram to show technical differences among <a href="https://twitter.com/reactjs?ref_src=twsrc%5Etfw">@ReactJS</a> libraries for global state which I maintain/develop. I feel like keeping posting this kind of tweets, but every time it&#39;s slightly changed.<a href="https://t.co/sJAmYrng5V">https://t.co/sJAmYrng5V</a> <a href="https://t.co/MgVmy9Go5W">pic.twitter.com/MgVmy9Go5W</a></p>&mdash; Daishi Kato (@dai_shi) <a href="https://twitter.com/dai_shi/status/1381252474682535938?ref_src=twsrc%5Etfw">April 11, 2021</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>In this article, our focus is the columns in the table.
(The rows are from a different perspective.)</p>
<p>Here&rsquo;s another tweet with the same idea.
It&rsquo;s &ldquo;state resides at component level (inside react)&rdquo;
vs.
&ldquo;state resides at module level (outside react)&rdquo;.</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Here&#39;s another more technical matrix of some <a href="https://twitter.com/reactjs?ref_src=twsrc%5Etfw">@ReactJS</a> global state libraries. It doesn&#39;t mean to be super accurate, but to grasp their major characteristics.<a href="https://twitter.com/excalidraw?ref_src=twsrc%5Etfw">@Excalidraw</a> shareable link: <a href="https://t.co/9P4hsf0gtm">https://t.co/9P4hsf0gtm</a> <a href="https://t.co/OHEXELze4k">pic.twitter.com/OHEXELze4k</a></p>&mdash; Daishi Kato (@dai_shi) <a href="https://twitter.com/dai_shi/status/1342464894155640833?ref_src=twsrc%5Etfw">December 25, 2020</a></blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>


<p>Again, our focus is the columns in the table.</p>
<p>So, what are the two approaches?</p>
<p>The data-centric approach is you have data first regardless of
React components.
React components are used to represent those data.
For example, in game development, it&rsquo;s likely that
you may have game state in advance to design components.
You don&rsquo;t want these data to be controlled by React lifecycle.</p>
<p>On the other hand, with the component-centric approach,
you would design components first.
Some states can be locally defined in components with <code>useState</code>.
Other states will be shared across components.
For example, in a GUI intensive app, you want to control UI parts
in sync, but they are far away in the component tree.</p>
<p>Note that this is not a ground rule. We could store
game state in the component-centric libraries,
and UI state in the data-centric libraries.
Each library has its own features, so that would be
the point of choice.</p>
<p>I would choose valtio for data-centric apps
and jotai for component-centric apps.</p>
<p>Let&rsquo;s see the actual examples.</p>
<h2 id="my-apps-with-valtio-and-jotai">My apps with valtio and jotai</h2>
<p>There are two apps I developed each with valtio and jotai.</p>
<p>The first app is called Remote Faces and it uses valtio.
It&rsquo;s an app to share your face image with your colleagues
to show presense in a remote-work environment.</p>
<p><a href="https://remote-faces.js.org">https://remote-faces.js.org</a></p>
<p>It has data to be shared with other users.
The latest version uses <a href="https://github.com/dai-shi/valtio-yjs">valtio-yjs</a>
to sync data with others.</p>
<p>See the GitHub repo for more details:</p>
<p><a href="https://github.com/dai-shi/remote-faces">https://github.com/dai-shi/remote-faces</a></p>
<p>The second app is called Katachidraw and it uses jotai.
This is an SVG-based drawing app.</p>
<p><a href="https://katachidraw.vercel.app">https://katachidraw.vercel.app</a></p>
<p>It&rsquo;s actually developed to demonstrate how jotai can
extensively used.</p>
<p>The source code is available:</p>
<p><a href="https://github.com/dai-shi/katachidraw">https://github.com/dai-shi/katachidraw</a></p>
<p>You can also learn the basics in
<a href="https://egghead.io/courses/manage-application-state-with-jotai-atoms-2c3a29f0?af=egwzez">this egghead course</a>.</p>
<h2 id="summary">Summary</h2>
<p>It&rsquo;s really hard to suggest which libraries to use in general.
The real recommendation is to learn both and understand them.</p>
<p>If data-centric approach vs. component-centric approach discussion
makes sense, it may help you to choose one. But still, other features
in valtio and jotai are very different. So, you want to at least
read their README files.</p>
<p>Another suggestion is, if you really like the syntax of valtio,
pick valtio, otherwise pick jotai.
If you are even unsure about it, just pick jotai which has less gotchas.</p>
<p>I didn&rsquo;t discuss other libraries in this article.
It will be more complicated to compare three or more libraries.
Maybe another pair of libraries would be possible to discuss.</p>

	</article>
</main>


  <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "blog-axlight-com" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


<div id="bottom-nav" class="text-center center-block">
	<a href=" https://blog.axlight.com/" class="btn btn-default"><i class="fa fa-home"></i> Home</a>
</div>

						</div>
					</div>
				</div>
			</div>
		</div>
  </div>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.2/js/bootstrap.min.js"></script>
  
  
  <script src="https://blog.axlight.com//js/App.js"></script>
  
</body>
</html>
